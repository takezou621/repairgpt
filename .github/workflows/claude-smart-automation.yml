name: Claude Smart Automation

on:
  schedule:
    # 平日夜間実行 (23:00, 02:00, 05:00 JST)
    - cron: '0 14,17,20 * * 1-5'  # UTC時間 月-金
    # 土日昼間実行 (10:00, 14:00, 18:00, 22:00 JST)
    - cron: '0 1,5,9,13 * * 0,6'  # UTC時間 土日
  workflow_dispatch:

jobs:
  smart-automation:
    runs-on: ubuntu-latest
    permissions:
      contents: write
      pull-requests: write
      issues: write
      actions: read
    
    steps:
    - name: Checkout
      uses: actions/checkout@v4
      with:
        token: ${{ secrets.GITHUB_TOKEN }}
        fetch-depth: 0
        ref: main
    
    - name: Smart Automation Processing
      uses: actions/github-script@v7
      with:
        github-token: ${{ secrets.GITHUB_TOKEN }}
        script: |
          console.log('Hello from minimal script!');